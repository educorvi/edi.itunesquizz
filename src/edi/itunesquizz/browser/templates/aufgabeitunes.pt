<!doctype html>
<html lang="de" tal:define="viewdata view/update; statics python:viewdata.get('statics')">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link href="" tal:define="viewdata view/update" tal:attributes="href string:${statics}/css/bootstrap.min.css" rel="stylesheet">

    <!-- Titel der Seite -->
    <title tal:content="context/title">Titel der Seite</title>

  </head>

  <body>

    <div class="container">

      <form class="form-horizontal" tal:attributes="action viewdata/validationurl">
 
        <h1 tal:content="viewdata/title"/>

        <p tal:condition="python:context.art=='selbsttest'"><strong>Das ist eine Selbsttestaufgabe.</strong></p>
        <p tal:condition="python:context.art=='benotet'"><strong>Diese Aufgabe wird benotet. Du bekommst <span tal:replace="context/punkte"/> Punkte
           mit der richtigen Antwort.</strong></p>
        <h4 class="form-signin-heading" tal:content="viewdata/aufgabe">Aufgabenstellung</h4>

        <div tal:condition="python: viewdata.get('illustration')=='bild'">
           <img class="img-rounded img-responsive" tal:attributes="src viewdata/bild" />
        </div>

        <!--<div class="row">
          <div class="col-xs-12">
            <iframe src="https://player.vimeo.com/video/337028915" width="640" height="360" frameborder="0" allow="autoplay; fullscreen" allowfullscreen></iframe>
          </div>
        </div>-->

        <div class="row" tal:condition="python: viewdata.get('illustration')=='film'">
          <div class="embed-responsive embed-responsive-4by3">
            <span tal:replace="structure viewdata/film"/>
          </div>
        </div>

        <div tal:define="datei viewdata/datei;filetype python:datei.get('contentType')" tal:condition="datei" class="row">
          <div class="col-xs-12 col-sm-12" tal:condition="python: filetype == 'video/mp4'">
            <div class="embed-responsive embed-responsive-4by3">
              <video class="embed-responsive-item" src="" tal:attributes="src datei/url" type="video/mp4" controls width="70%">
                Dein Browser kann dieses Video nicht wiedergeben.<br/>
                Du kannst die Datei unter <a href="#" tal:attributes="href datei/url" tal:content="datei/filename"></a> herunterladen.
              </video>
            </div>
          </div>
          <div class="col-xs-12 col-sm-12" tal:condition="python: filetype == 'audio/mpeg'">
            <audio src="" tal:attributes="src datei/url;type datei/contentType" controls>
              Dein Browser kann diese Tonaufnahme nicht wiedergeben.<br/>
              Du kannst die Datei unter <a href="#" tal:attributes="href datei/url" tal:content="datei/filename"></a> herunterladen.
            </audio>
          </div>
          <div class="col-xs-12 col-sm-12" tal:condition="python: filetype != 'video/mp4' and filetype != 'audio/mpeg'">
            <a href="" tal:attributes="href datei/url"><span class="glyphicon glyphicon-download"/>
                                                      <span tal:content="datei/filename"/>
                                                      (<span tal:content="filetype"/> - <span tal:content="datei/size"/>)
            </a>
          </div>
        </div>

        <div tal:condition="viewdata/hinweis" class="row">
         <blockquote><p tal:content="viewdata/hinweis"/></blockquote>
        </div>

        <div tal:condition="not:viewdata/inputfields" class="form-group">
          <textarea tal:condition="not:viewdata/inputfields"  tal:attributes="name viewdata/fieldname" class="form-control" 
            placeholder="Bitte schreibe hier eine Antwort auf die Frage" required></textarea>
        </div>

        <div tal:condition="viewdata/inputfields" class="form-group-lg">
          <div class="row" style="margin-bottom:3px" tal:repeat="inputfield viewdata/inputfields">

          <div tal:condition="inputfield/image" class="col-xs-5 col-sm-3 col-md-3">
            <div tal:define="image nocall:inputfield/image"
               tal:condition="nocall:image">
            <img class="img-rounded img-responsive" tal:attributes="src inputfield/image" />
            </div>
          </div>

          <div tal:condition="inputfield/image" class="col-xs-7 col-sm-9 col-md-9">
          <div class="checkbox">
            <label>
              <input type="checkbox" tal:attributes="name viewdata/fieldname; value inputfield/value">
              
              <span tal:replace="inputfield/label"/>
            </label>
          </div> <-- /chekboxfield -->
          </div>

          <div tal:condition="not: inputfield/image" class="col-xs-12 col-sm-12 col-md-12">
          <div class="checkbox">
            <label>
              <input type="checkbox" tal:attributes="name viewdata/fieldname; value inputfield/value">
              
              <span tal:replace="inputfield/label"/>
            </label>
          </div> <-- /chekboxfield -->
          </div>

          </div>
        </div> <!-- /form-group -->

        <div style="margin-top:20px" class="row">
          <div class="col-xs-12 col-sm-12 col-md-12">
            <button class="btn btn-lg btn-primary btn-block" type="submit">Absenden</button>
          </div>
        </div>

      </form>

    </div> <!-- /container -->

    <script src="" tal:attributes="src string:${viewdata/statics}/js/jquery-3.3.1.slim.min.js"></script>
    <script src="" tal:attributes="src string:${viewdata/statics}/js/popper.min.js"></script>
    <script src="" tal:attributes="src string:${viewdata/statics}/js/bootstrap.min.js"></script>

  </body>
</html>
